<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Title</title>
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
</head>
<body>
<div class="container">
  <table class="table">
    <thead>
    <tr>
      <th>f_n</th>
      <th>f_l</th>
      <th>a</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    </tbody>
    <tfoot>
    <tr>
      <td colspan="4" class="text-right">
        <button class="btn btn-success">Add user</button>
      </td>
    </tr>
    </tfoot>
  </table>
</div>
<!-- JavaScript Bundle with Popper -->
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>

<script>


  var a = {
  0 : ["Мия", "Коновалова", "31"],
  1 : ["Макар", "Павлов", "41"],
  2 : ["Милана", "Филимонова", "22"],
  3 : ["Тимур", "Кузнецов", "30"],
  4 : ["Даниэль", "Булатов", "50"],
  5 : ["София", "Кузнецова", "32"],
  6 : ["Каролина", "Комарова", "21"],
  7 : ["Лидия", "Левина", "36"],
  8 : ["Мия", "Кузнецевич", "20"],
  9 : ["Андрей", "Леженин", "40"]
  }


  const rand = function() {
  	
   return parseInt(Math.random()*10);
  }



const addCol = function(user_id, id) {

  const td = $('<td />'), input = $('<input />');
  input.addClass('form-control').attr('type', 'text').attr('value', a[user_id][id]);
  td.html(input);
  return td;
}

const addBtnRemove = function() {

  const td = $('<td/>'), btn = $('<button/>');
  btn.addClass('btn btn-danger').text('Remove');
  td.html(btn);
  return td;
}

const addRow = function() {
  const tr = $('<tr/>');
  var user_id = rand();
  tr.append(addCol(user_id, 0));
  tr.append(addCol(user_id, 1));
  tr.append(addCol(user_id, 2));
  tr.append(addBtnRemove());
  $('tbody').append(tr);

}

// let uniqArr = Array.from(new Set(users.map(item=>item.trim())));

const addRemoveDisable = function() {
  $('tbody>tr').length > 1 ?
    $('.btn-danger').removeAttr('disabled') :
    $('.btn-danger').attr('disabled', 'disabled')
}

const addAddUserDisable = function() {
  $('tbody>tr').length < 10 ?
    $('.btn-success').removeAttr('disabled') :
    $('.btn-success').attr('disabled', 'disabled')
}

$(document).on('click', '.btn-success', function() {
  if ($('tbody>tr').length < 10) {
  	Array.from(a)
    addRow();
  }
  addAddUserDisable();
});

$(document).on('click', '.btn-danger', function() {
  if ($('tbody>tr').length > 1) {
    $(this).closest('tr').remove();
  }
});
$(document).ready(function() {
  addRow();
})
/////////////////////////////////////
//Создать объект из 10 юзеров. У каждого юзера есть имя, фамилия, дата рождения. Взять таблицу из лекции. И при добавлении новой строки выводить данные о пользователя из объекта. Пользователи не могут повторяться. Если добавлены все 10 юзеров, дизейблить кнопку добавить.
///////////////////////////////////////////////

// function Person(first, last, age) {

//   this.name = {
//     'first': first,
//     'last' : last,
//   };
//   this.age = age;
// }

// let person1 = new Person('Дарья', 'Маркова', 40);
// let person2 = new Person('Дарья', 'Маркова', 40);
// // let person2 = new Person('Мия', 'Коновалова', 31);
// // let person3 = new Person('Макар', 'Павлов', 41);
// // let person4 = new Person('Милана', 'Филимонова', 22);
// // let person5 = new Person('Тимур', 'Кузнецов', 30);
// // let person6 = new Person('Даниэль', 'Булатов', 50);
// // let person7 = new Person('София', 'Кузнецова', 32);
// // let person8 = new Person('Каролина', 'Комарова', 21);
// // let person9 = new Person('Лидия', 'Левина', 36);
// // let person10 = new Person('Мия', 'Кузнецевич', 20);
// // Коновалова Мия Михайловна
// // Павлов Макар Вячеславович
// // Филимонова Милана Григорьевна
// // Кузнецов Тимур Всеволодович
// // Булатов Даниэль Даниилович
// // Кузнецова София Руслановна
// // Комарова Каролина Андреевна
// // Левина Лидия Демидовна
// // Кузнецевич Мия Романовна
// // 31 41 22 30 50 32 21 36 20 40
// // $('.btn-success').on('click', function() {
// //   // $(this).input('Дарья Маркова 40 лет');
// //   $('<input />').input('hello world');
// // });

// // $(document).on('click', '.btn-success', function() {
// //   $('form-control').html('hello world');
// // })




</script>
</body>
</html>
